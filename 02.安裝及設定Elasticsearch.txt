ElasticSearch 安裝
- cd /tmp
- wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.2.3.rpm

- rpm -Uvh elasticsearch-6.2.3.rpm
- rpm -ql elasticsearch # 查看安裝路徑

--------------------------------------------------------------------------------------------------------
# 優化 JVM 設定 (一般設定為 Host 記憶體的一半)
- vi /etc/elasticsearch/jvm.options
	
--------------------------------------------------------------------------------------------------------
# 優化 Elasticsearch 設定
- vi /usr/lib/systemd/system/elasticsearch.service
	LimitMEMLOCK=infinity

- vi /etc/sysconfig/elasticsearch
	MAX_LOCKED_MEMORY=unlimited
	
-------------------------------------------------------------------------------------------------------
# 作業系統參數優化
- vi /etc/security/limits.conf
	*       soft    nofile  65536
	*       hard    nofile  65536	
	


--------------------------------------------------------------------------------------------------------
- Centos 7 將 Elasticsearch 安裝為系統的 Service
 systemctl daemon-reload
 systemctl enable elasticsearch.service
 systemctl start elasticsearch
 systemctl status elasticsearch
--------------------------------------------------------------------------------------------------------

- curl -X GET http://127.0.0.1:9200/


- vi /etc/elasticsearch/elasticsearch.yml
--------------------------------------------------------------------------------------------------------
cluster.name:es_cluster
node.name:node01
#node.name: ${HOSTNAME}

bootstrap.mlockall: true #lock JVM Swap when start

discovery.zen.ping.multicast.enabled : false
discovery.zen.ping.unicast.hosts: ["10.1.124.106", "10.1.124.105"]
discovery.zen.minimum_master_nodes: 2

#設置為30天過期
indices.cache.filter.expire: 30d
index.cache.filter: 30d

index.number_of_shards: 3
index.number_of_replicas: 1
node.master: true
node.data: true

#Gateway
gateway.type : local #

# 設定bind的ip,可以是ipv4或ipv6的,預設為0.0.0.0 
#network.bind_host: 192.168.0.1 
# 設定其它節點和該節點溝通時的ip 
#network.publish_host: 192.168.0.1 
# 同時設定bind_host和publish_host上面兩個參數 
#network.host: 192.168.0.1
#transport.tcp.compress: true
#http.max_content_length: 100mb


--------------------------------------------------------------------------------------------------------
command:
$ systemctl restart elasticsearch

--------------------------------------------------------------------------------------------------------
- 檢查 ES RPM 組態檔清單: rpm -qc elasticsearch

/etc/elasticsearch/elasticsearch.yml
/etc/elasticsearch/logging.yml
/etc/init.d/elasticsearch
/etc/sysconfig/elasticsearch
/usr/lib/sysctl.d/elasticsearch.conf
/usr/lib/systemd/system/elasticsearch.service
/usr/lib/tmpfiles.d/elasticsearch.conf

- netstat -nltp